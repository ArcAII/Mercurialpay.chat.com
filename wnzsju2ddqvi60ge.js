import{j as e,a9 as r,r as p,M as s,d as b}from"./kv2o8jct803fkxjw.js";import{a as g,T as E,P as O,v as A}from"./dj00e3e1u43gh367.js";import{dK as _,aS as k,ay as C,dL as L,dM as D,dN as I,dO as R,dI as i,dH as V,az as P}from"./gcs6t4p85n8h1fl7.js";const J=({gap:d,padding:a=4,size:t=3})=>e.jsx(r.div,{className:g("grid h-full max-w-full flex-1 grid-cols-3 items-center"),style:{gap:d,padding:a},children:_(3,n=>e.jsx(r.div,{className:"dark:bg-white-400 aspect-square rounded-full bg-gray-400",animate:{translateY:["0%","-50%","0%","0%","0%"]},style:{translateX:.5,width:t,height:t},transition:{repeat:1/0,type:"keyframes",delay:n/10,duration:.7}},n))});function Y({isDisabled:d=!1,isCodePreviewable:a=!1,isCodeRunning:t,disabledTooltip:n,clientThreadId:h,textdocType:u,onClick:T}){const[l,x]=p.useState(t),c=k(C.hasSeenCanvasCodeExecutionNux),[{width:f},j]=L();p.useEffect(()=>{let y=null;return!t||a?x(t):(y=setTimeout(()=>{x(t)},200),()=>clearTimeout(y))},[t,a]);const M=()=>({conversation_id:h?A(h):void 0}),w=()=>{O.logEventWithStatsig("Canvas Run Code Button Clicked","chatgpt_canvas_run_code_button_clicked",M()),setTimeout(()=>T?.())},m=e.jsx(r.button,{disabled:d||t&&!l,onClick:w,className:g("btn rounded-full border transition-colors",l?g(D,"border-transparent"):"border-token-border-default hover:bg-token-surface-hover bg-transparent"),animate:{width:f??0},initial:{width:f??0},transition:{type:"spring",bounce:.24,duration:.4},children:e.jsx("div",{ref:j,children:l?e.jsxs(r.div,{className:"flex items-center gap-2 px-3 sm:px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx(I,{className:"icon-md"}),e.jsx("span",{className:"hidden sm:inline",children:e.jsx(s,{...o.stopCode})})]}):e.jsxs(r.div,{className:"flex items-center gap-2 px-3 sm:px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[e.jsx(R,{className:"icon-md"}),e.jsx("span",{className:"hidden sm:inline",children:e.jsx(s,{...a?o.previewCode:o.runCode})})]})})}),N=!c.isLoading&&c.eligible,v=d&&n?n:t?null:e.jsx(s,{...a?o.previewCodeTooltip:o.runCodeTooltip}),S=p.useMemo(()=>{if(!u)return"canvas";switch(u){case i.CODE_JAVASCRIPT:return"JavaScript";case i.CODE_TYPESCRIPT:return"TypeScript";case i.CODE_HTML:return"HTML";case i.CODE_PYTHON:return"Python";case i.CODE_REACT:return"React"}return V(u)??"canvas"},[u]);return N?e.jsx(P,{announcementKey:C.hasSeenCanvasCodeExecutionNux,show:!0,side:"bottom",align:"end",theme:"bright",dismissOnOutsideClick:!0,badge:"new",title:a?e.jsx(s,{id:"O8VBVO",defaultMessage:"Preview your output"}):e.jsx(s,{id:"2sN/zT",defaultMessage:"Run {language}",values:{language:S}}),description:a?e.jsx(s,{id:"CMJOVI",defaultMessage:"Run your code to see how it looks and interact with the output."}):e.jsx(s,{id:"ew1tTJ",defaultMessage:"See your output and get help debugging without leaving the canvas."}),onDismiss:c.markAsViewed,sideOffset:0,children:m}):v?e.jsx(E,{label:v,children:m}):m}const o=b({previewCode:{id:"a08baM",defaultMessage:"Preview"},runCode:{id:"O/1aYA",defaultMessage:"Run"},stopCode:{id:"nCwG4+",defaultMessage:"Stop"},runCodeTooltip:{id:"UeNB/S",defaultMessage:"See output and debug"},previewCodeTooltip:{id:"XLZZHl",defaultMessage:"Preview your output"}});export{J as T,Y as a,o as m};
//# sourceMappingURL=wnzsju2ddqvi60ge.js.map
